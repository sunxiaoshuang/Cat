@using JdCat.Cat.Common
@model TangOrder

<div class="form-horizontal">
    <div class="form-group">
        <label class="col-xs-2">
            订单编号：
        </label>
        <span class="col-xs-4">
            @Model.Code
        </span>
        <label class="col-xs-2">
            当日流水：
        </label>
        <span class="col-xs-3">
            @Model.Identifier
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            餐桌：
        </label>
        <span class="col-xs-4">
            @Model.DeskName
        </span>
        <label class="col-xs-2">
            用餐人数：
        </label>
        <span class="col-xs-3">
            @Model.PeopleNumber
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            结算时间：
        </label>
        <span class="col-xs-4">
            @(Model.PayTime?.ToString("yyyy-MM-dd HH:mm:ss"))
        </span>
        <label class="col-xs-2">
            支付方式：
        </label>
        <span class="col-xs-3">
            @Model.PaymentTypeName
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            订单来源：
        </label>
        <span class="col-xs-4">
            @Model.OrderSource.ToDescription();
        </span>
        <label class="col-xs-2">
            订单类别：
        </label>
        <span class="col-xs-3">
            @Model.OrderMode.ToDescription()
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            收银员：
        </label>
        <span class="col-xs-4">
            @Model.StaffName
        </span>
        <label class="col-xs-2">
            订单状态：
        </label>
        <span class="col-xs-3">
            @Model.OrderStatus.ToDescription()
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            订单备注：
        </label>
        <span class="col-xs-4">
            @Model.Remark
        </span>
        <label class="col-xs-2">
            支付备注：
        </label>
        <span class="col-xs-3">
            @Model.PaymentRemark
        </span>
    </div>
    @if (!string.IsNullOrEmpty(Model.CancelReason))
    {
        <div class="form-group">
            <label class="col-xs-2">
                退款原因：
            </label>
            <span class="col-xs-8">
                @Model.CancelReason
            </span>
        </div>
    }
    <div class="form-group">
        <label class="col-xs-2">
            餐位费：
        </label>
        <span class="col-xs-4">
            ￥ @Model.MealFee
        </span>
        <label class="col-xs-2">
            订单原价：
        </label>
        <span class="col-xs-3">
            ￥ @Model.OriginalAmount
        </span>
    </div>
    <div class="form-group">
        <label class="col-xs-2">
            优惠金额：
        </label>
        <span class="col-xs-4">
            ￥ @Model.PreferentialAmount
        </span>
        <label class="col-xs-2">
            订单总额：
        </label>
        <span class="col-xs-3">
            ￥ @Model.Amount
        </span>
    </div>
    <div class="form-group">
        <div class="col-xs-11">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>商品名称</th>
                        <th>规格描述</th>
                        <th>备注</th>
                        <th width="80">总价</th>
                        <th width="80">数量</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.TangOrderProducts)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.Description</td>
                            <td>@item.Remark</td>
                            <td>@item.Price</td>
                            <td>@item.Quantity</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>



