(function(n){var t=new Vue({el:"#app",data:{entity:pageObj.business,cityList:pageObj.cityList,showError:!1,isChangeLogo:!1},methods:{ret:function(){history.go(-1)},save:function(){var t=this.entity;if(!t.logoSrc){n.alert("请上传商户LOGO");return}if(!t.name||!t.address||!t.contact||!t.mobile||!t.cityCode||!t.freight){n.alert("请将信息填写完整");this.showError=!0;return}this.showError=!1;n.loading();axios.post("/business/savebase?isChangeLogo="+(this.isChangeLogo?1:0),t).then(function(t){if(n.loaded(),!t.data.success){n.alert(response.data.msg);return}n.alert("保存成功","success")}).catch(function(t){n.loaded();n.alert(t)})},selectFile:function(){n("#file").click()},remove:function(){this.entity.logoSrc=null}},computed:{logo:function(){var n=this.entity.logoSrc;return n?n.indexOf("data:image/jpeg;base64")>-1?n:`${appConfig.apiUrl}/File/Logo/${pageObj.business.id}/${n}`:n}},filters:{}}),i;n("#switch").bootstrapSwitch({onSwitchChange:function(n,i){t.entity.isAutoReceipt=i}}).bootstrapSwitch("state",t.entity.isAutoReceipt);i=new bjj.PhotoClip("#clipArea",{size:[400,300],outputSize:[400,300],file:"#file",ok:"#clipBtn",loadStart:function(){n(".cover-wrap").fadeIn()},loadComplete:function(){},clipFinish:function(i){n(".cover-wrap").fadeOut();t.entity.logoSrc=i;t.isChangeLogo=!0}})})(jQuery);