(function(n){var u=`
            <div class='form-horizontal' id="{0}">
                <div class="form-group">
                    <label class="control-label col-xs-4">
                        <span class='require'>配送距离km（<=）：</span>
                    </label>
                    <div class="col-xs-7">
                        <input class="form-control" type="text" v-model="distance" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-xs-4">
                        <span class='require'>配送费用：</span>
                    </label>
                    <div class="col-xs-7">
                        <input class="form-control" type="number" v-model="amount" />
                    </div>
                </div>
            </div>
        `,r,t,i;r=new Vue({el:"#app",data:{freights:pageData.freights},methods:{add:function(){n.view({title:"新增运费设置",template:u.format("addView"),footDisplay:"block",load:function(){t=new Vue({el:"#addView",data:{distance:0,amount:0}});this.on("hidden.bs.modal",function(){t&&(t.$destroy(),t=null)})},submit:function(){return t.distance<=0?(n.alert("请输入配送距离"),!1):t.amount<0?(n.alert("请输入配送费用"),!1):(axios.post("/Business/CreateFreight",{maxDistance:t.distance,amount:t.amount}).then(function(t){if(!t.data.success){n.alert(t.data.msg);return}n.alert(t.data.msg,"success");r.freights.push(t.data.data)}).catch(function(t){n.alert(t)}),!0)}})},remove:function(t){n.primary("确定删除吗？",function(){axios.get("/Business/RemoveFreight/"+t.id).then(function(i){if(!i.data.success){n.alert(i.data.msg);return}n.alert(i.data.msg,"success");r.freights.remove(t)}).catch(function(t){n.alert(t)});r.freights.remove(t)})},update:function(t){n.view({title:"修改运费设置",template:u.format("updateView"),footDisplay:"block",load:function(){i=new Vue({el:"#updateView",data:{distance:t.maxDistance,amount:t.amount}});this.on("hidden.bs.modal",function(){i&&(i.$destroy(),i=null)})},submit:function(){return i.distance<=0?(n.alert("请输入配送距离"),!1):i.amount<=0?(n.alert("请输入配送费用"),!1):(axios.post("/Business/UpdateFreight",{id:t.id,maxDistance:i.distance,amount:i.amount}).then(function(i){if(!i.data.success){n.alert(i.data.msg);return}n.alert(i.data.msg,"success");t.maxDistance=i.data.data.maxDistance;t.amount=i.data.data.amount;t.modifyTime=i.data.data.modifyTime}).catch(function(t){n.alert(t)}),!0)}})}}})})(jQuery);