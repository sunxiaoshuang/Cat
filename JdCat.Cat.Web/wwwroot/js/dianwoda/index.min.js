(function(){var n,t,i;axios.get("/data/dianwoda.json").then(function(n){i=n.data});n=new Vue({el:"#app",data:{isCreated:!!pageObj.dwd.shop_title,shop:pageObj.dwd,balance:pageObj.balance},methods:{create:function(){if(this.balance>0){$.alert("账户余额大于0，不可以重新创建。");return}$.view({name:"add",title:"创建商户",footDisplay:"block",url:"/Dianwoda/Create",saveText:"创建商户",load:function(){t=new Vue({el:"#createPage",data:{cityList:i,obj:createPageObj},methods:{change:function(n){n.target.selectedOptions[0]&&(this.obj.city_name=n.target.selectedOptions[0].text)}}})},submit:function(){var i=t.obj;return!i.city_code||!i.shop_title||!i.mobile||!i.lng||!i.lat||!i.addr?($.alert("请将商户信息输入完整"),!1):(i.lng=i.lng.toString().replace(".",""),i.lat=i.lat.toString().replace(".",""),axios.post("/Dianwoda/Create",i).then(function(t){if(!t.data.success){$.alert(t.data.msg);return}n.isCreated=!0;n.shop=t.data.data}).catch(function(n){$.alert(n)}),!0)}})}}})})();