(function(){var t={"1":"已付款","2":"已拒单","4":"待配送","8":"待配送","16":"配送中","32":"配送异常","64":"已送达","128":"用户已确认收货","256":"未付款","512":"已评价","1024":"已关闭","2048":"配送已取消","4096":"订单已取消"},n=new Vue({el:"#app",data:{orderList:[],startDate:(new Date).format("yyyy-MM-dd"),endDate:(new Date).format("yyyy-MM-dd"),sources:[{name:"全部",val:"99"},{name:"美团",val:"0"},{name:"饿了么",val:"1"}],dayNum:"",selectedSource:"99",paging:{pageSize:20,pageIndex:1,pageCount:1,recordCount:0}},methods:{getData:function(){var n=this,t,i;if(!this.startDate||!this.endDate){$.alert("请选择订单起止时间");return}if(this.endDate<this.startDate){$.alert("订单开始时间不能大于截止时间");return}if(t=new Date(this.endDate)-new Date(this.startDate),i=t/864e5,i>31){$.alert("订单起止时间间隔必须30天以内");return}console.log(this.$data);return},search:function(){this.initPaging();this.getData()},initPaging:function(){this.paging.pageIndex=1;this.paging.pageSize=20;this.paging.pageCount=1;this.paging.recordCount=0},nextPage:function(){this.paging.pageIndex>=this.paging.pageCount||(this.paging.pageIndex++,this.getData())},changePage:function(n){this.paging.pageIndex!==n&&(this.paging.pageIndex=n,this.getData())},prevPage:function(){this.paging.pageIndex<=1||(this.paging.pageIndex--,this.getData())},status:function(n){return t[n]},cat:function(n){$.view({title:"订单详情",url:"/ThirdOrder/Detail/"+n.id,dialogWidth:800})}},created:function(){this.initPaging();this.getData()}});$("#txtStartDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){n.startDate=this.value});$("#txtEndDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){n.endDate=this.value})})();