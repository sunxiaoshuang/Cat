(function(){var n=jdCat.utilMethods.now(),t=new Vue({el:"#app",data:{startDate:n,endDate:n,paging:{pageIndex:1,pageSize:20,pageCount:1},items:null},methods:{loadData:function(){var n=this;axios.get(`/Store/GetOrders?pageIndex=${this.paging.pageIndex}&pageSize=${this.paging.pageSize}&startDate=${this.startDate}&endDate=${this.endDate}`).then(function(t){n.paging.pageCount=Math.ceil(t.data.count/n.paging.pageSize);n.items=t.data.rows}).catch(function(n){$.alert(n)})},next:function(){if(this.paging.pageIndex>=this.paging.pageCount){this.paging.pageIndex=this.paging.pageCount;return}this.paging.pageIndex++;this.loadData()},pre:function(){if(this.paging.pageIndex<=1){this.paging.pageIndex=1;return}this.paging.pageIndex--;this.loadData()},page:function(n){this.paging.pageIndex!==n&&(this.paging.pageIndex=n,this.loadData())},search:function(){this.loadData()},orderStatus:function(){return statusName={1:"正在点单",2:"正在用餐",4:"已结算",8:"反结算",16:"已取消",32:"已退款"},function(n){return statusName[n]}}(),catInfo:function(n){$.loading();axios.get(`/Store/OrderDetail/${n.id}`).then(function(n){$.loaded();$.view({title:"订单详情",template:n.data,dialogWidth:700})}).catch(function(n){$.loaded();$.alert(n)})}},created:function(){this.loadData()}});$("#txtStartDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){t.startDate=this.value});$("#txtEndDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){t.endDate=this.value})})();