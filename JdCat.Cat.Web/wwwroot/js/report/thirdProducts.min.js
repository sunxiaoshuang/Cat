(function(){var n=jdCat.utilMethods.now(),t=new Vue({el:"#app",data:{items:[],products:null,type:99,start:n,end:n},methods:{search:function(){this.loadData()},loadData:function(){var n=this;axios.get(`/Report/Third/GetProducts?start=${this.start}&end=${this.end}&source=${this.type}`).then(function(t){var i={name:"合计",quantity:0,amount:0,cancelQuantity:0,cancelSaleAmount:0,cancelAmount:0,saleQuantity:0,saleAmount:0,entertainQuantity:0,entertainAmount:0,discountAmount:0,discountQuantity:0,discountedAmount:0,actualQuantity:0,actualAmount:0};t.data.forEach(n=>{for(let t in i)t!=="name"&&(i[t]+=n[t]);for(let n in i)n!=="name"&&(i[n]=+i[n].toFixed(2))});t.data.push(i);n.items=t.data}).catch(function(n){$.alert(n)})},exportData:function(){location=`/Report/Third/ExportProducts?start=${this.start}&end=${this.end}&source=${this.type}`},formatData:function(n){return n===0?"-":+n.toFixed(2)}},created:function(){this.loadData()}});$("#txtStartDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){t.start=this.value});$("#txtEndDate").datetimepicker(jdCat.utilData.dateOptions).on("changeDate",function(){t.end=this.value})})();